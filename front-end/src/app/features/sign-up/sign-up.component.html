<app-nav-bar></app-nav-bar>

<div class="main">
  <div class="form">
    <div class="form-title">
      <h2>Bug Bounty</h2>
    </div>
    <div class="form-body">
      <div class="tab-title">Sign Up</div>
      <div class="tab-body">
        <div class="tab-content">
          
          <!-- First and Last Name only if not company -->
          <div *ngIf="!isCompany">
            <div class="input-group">
              <label for="firstName">First Name</label>
              <input 
                type="text" 
                id="firstName" 
                [(ngModel)]="firstName" 
                (input)="OnChangeFirstName(firstName)"
                [class.input-error]="invalidFirstName"
              />
            </div>
            <div class="error" *ngIf="invalidFirstName">
              First name is required (min 2 characters)
            </div>

            <div class="input-group">
              <label for="lastName">Last Name</label>
              <input 
                type="text" 
                id="lastName" 
                [(ngModel)]="lastName" 
                (input)="OnChangeLastName(lastName)"
                [class.input-error]="invalidLastName"
              />
            </div>
            <div class="error" *ngIf="invalidLastName">
              Last name is required (min 2 characters)
            </div>
          </div>

          <!-- Username (always shown) -->
          <div class="input-group">
            <label for="username">Username</label>
            <input 
              type="text" 
              id="username" 
              [(ngModel)]="username" 
              (input)="OnChangeUsername(username)"
              [class.input-error]="invalidUsername"
            />
          </div>
          <div class="error" *ngIf="invalidUsername">
            Username is required (min 3 characters)
          </div>

          <!-- Email -->
            <div class="input-group">
              <label for="email">Email</label>
              <input 
                type="email" 
                id="email" 
                [(ngModel)]="email" 
                (input)="OnChangeEmail(email)"
                [class.input-error]="invalidEmail || emailAlreadyRegistered"
              />
            </div>
            <div class="error" *ngIf="invalidEmail">
              Invalid email format
            </div>
            <div class="error" *ngIf="emailAlreadyRegistered">
              This email is already registered. Please login.
            </div>


          <!-- Password -->
          <div class="input-group">
            <label for="password">Password</label>
            <input 
              type="password" 
              id="password" 
              [(ngModel)]="password" 
              (input)="OnChangePassword(password)"
              [class.input-error]="invalidPassword"
            />
          </div>
          <div class="error" *ngIf="invalidPassword">
            Password must be at least 6 characters
          </div>

          <!-- Confirm Password -->
          <div class="input-group">
            <label for="confirmPassword">Confirm Password</label>
            <input 
              type="password" 
              id="confirmPassword" 
              [(ngModel)]="confirmPassword" 
              (input)="OnChangeConfirmPassword(confirmPassword)"
              [class.input-error]="invalidConfirmPassword"
            />
          </div>
          <div class="error" *ngIf="invalidConfirmPassword">
            Passwords do not match
          </div>

          <!-- Company toggle -->
          <div class="input-group checkbox-group">
            <label for="isCompany">Sign Up As Company?</label>
            <input 
              type="checkbox" 
              id="isCompany" 
              [(ngModel)]="isCompany" 
              (change)="OnCompanyChange(isCompany)"
            />
          </div>

        </div>
      </div>

      <div class="tab-buttons">
        <app-button 
          type="primary" 
          (onClicked)="OnClickSignUp($event)"
          [isLoading]="isSubmitting"
          [disabled]="isSubmitting"
        >Sign Up</app-button>
      </div>
    </div>
  </div>
</div>
